{% extends "base.html" %}

{% block content %}

<form method="post">
    {{ formset.management_form }}
    <div style="display:none;" id="form_template">
        {{ formset.empty_form.as_p }}
    </div><!-- stores empty form for javascript -->
    <div id="forms"></div><!-- where the generated forms go -->
</form>

<input type="text" name="quantity" value="6" />
<input type="submit" id="generate_forms" value="Generate Forms" />



<script>
     $(function() {

         $("#generate_forms").click(function() {
             quantity = $("[name=quantity]").val();
             $("[name=form-TOTAL_FORMS]").val(quantity);

             for (i=0;i<quantity;i++) {
                 var html = $("#form_template").clone().html().replace(/__prefix__/g, i);
                 $("#forms").append(html);
             };
         })
     })

</script>
{% endblock %}
